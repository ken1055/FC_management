<% layout('layout', { title: title, session: session }) %>
<div class="card shadow-sm p-4 mb-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0"><%= title %></h2>
    <a href="/api/users/list" class="btn btn-secondary">
      <i class="bi bi-arrow-left"></i> 一覧へ戻る
    </a>
  </div>

  <% if (typeof error !== 'undefined' && error) { %>
  <div class="alert alert-danger">
    <i class="bi bi-exclamation-triangle"></i> <%= error %>
  </div>
  <% } %>

  <div class="row">
    <div class="col-md-8">
      <form method="post" action="/api/users/">
        <div class="mb-3">
          <label class="form-label">
            メールアドレス <span class="text-danger">*</span>
          </label>
          <input
            type="email"
            name="email"
            class="form-control"
            placeholder="例: admin@company.com"
            required
          />
          <small class="form-text text-muted">
            ログイン時に使用するメールアドレスを入力してください
          </small>
        </div>

        <div class="mb-3">
          <label class="form-label">
            パスワード <span class="text-danger">*</span>
          </label>
          <input
            type="password"
            name="password"
            class="form-control"
            placeholder="安全なパスワードを入力"
            required
          />
          <small class="form-text text-muted">
            8文字以上の安全なパスワードを設定してください
          </small>
        </div>

        <div class="mb-4">
          <div class="card border-success">
            <div class="card-body">
              <div class="d-flex align-items-center mb-2">
                <i class="bi bi-shield-check text-success me-2 fs-4"></i>
                <strong class="fs-5">管理者アカウント作成</strong>
              </div>
              <p class="text-muted mb-0">
                代理店管理、売上管理、システム全体へのアクセス権限を持つアカウントを作成します。<br />
                <strong>制限:</strong> 最大5つまで作成可能
              </p>
            </div>
          </div>
        </div>

        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-success">
            <i class="bi bi-person-plus"></i> 管理者アカウント作成
          </button>
          <a href="/api/users/list" class="btn btn-secondary">
            <i class="bi bi-x-circle"></i> キャンセル
          </a>
        </div>
      </form>
    </div>

    <div class="col-md-4">
      <div class="alert alert-info">
        <h6 class="alert-heading">
          <i class="bi bi-info-circle"></i> 管理者アカウントについて
        </h6>
        <ul class="mb-0">
          <li><strong>代理店管理:</strong> 代理店の登録・編集・削除</li>
          <li><strong>売上管理:</strong> 全代理店の売上確認・管理</li>
          <li><strong>グループ管理:</strong> 代理店グループの作成・管理</li>
          <li><strong>アカウント管理:</strong> 管理者アカウントの作成・削除</li>
          <li><strong>資料管理:</strong> 商品資料格納庫の管理</li>
        </ul>
      </div>

      <div class="alert alert-warning">
        <h6 class="alert-heading">
          <i class="bi bi-exclamation-triangle"></i> 制限について
        </h6>
        <ul class="mb-0">
          <li><strong>最大数:</strong> 管理者アカウントは最大5つまで</li>
          <li><strong>一意制約:</strong> メールアドレスは重複できません</li>
          <li><strong>ID管理:</strong> 削除時にIDが自動調整されます</li>
        </ul>
      </div>
    </div>
  </div>
</div>
